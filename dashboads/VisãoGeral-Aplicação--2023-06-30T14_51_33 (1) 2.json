{"title":"Visão Geral - Aplicação","description":null,"widgets":[{"id":1340312248442430,"definition":{"title":"Sumário","background_color":"vivid_green","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7928324878882532,"definition":{"title":"Sumário do serviço - $service","type":"trace_service","env":"$env","service":"$service","span_name":"","show_hits":true,"show_errors":true,"show_latency":true,"show_breakdown":true,"show_distribution":false,"show_resource_list":false,"size_format":"medium","display_format":"one_column"},"layout":{"x":0,"y":0,"width":6,"height":8}},{"id":6779508423907434,"definition":{"title":"Status da aplicação","type":"manage_status","display_format":"countsAndList","color_preference":"background","hide_zero_counts":true,"query":"$service $env","sort":"name,asc","count":50,"start":0,"summary_type":"monitors","show_priority":false,"show_last_triggered":false},"layout":{"x":6,"y":0,"width":6,"height":4}},{"id":3940588827475666,"definition":{"title":"Últimos eventos","title_size":"16","title_align":"left","time":{"live_span":"4h"},"requests":[{"response_format":"event_list","query":{"query_string":"env:prod -source:(docker OR kubernetes) $service","data_source":"event_stream","event_size":"s"},"columns":[]}],"type":"list_stream"},"layout":{"x":6,"y":4,"width":6,"height":2}},{"id":8970255688771106,"definition":{"title":"SLOs","title_size":"16","title_align":"left","requests":[{"request_type":"slo_list","query":{"query_string":"$service AND $env","limit":100}}],"type":"slo_list"},"layout":{"x":6,"y":6,"width":6,"height":2}}]},"layout":{"x":0,"y":0,"width":12,"height":9}},{"id":3450888767995518,"definition":{"title":"Recursos","background_color":"vivid_blue","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1437462726698060,"definition":{"title":"Consumo de CPU","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"}],"response_format":"timeseries","queries":[{"query":"avg:docker.cpu.user{service:$service.value,env:$env.value}","data_source":"metrics","name":"query1"},{"query":"avg:docker.cpu.system{service:$service.value,env:$env.value}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"}},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":124926465991340,"definition":{"title":"Consumo de memória","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"}],"response_format":"timeseries","queries":[{"query":"sum:docker.mem.rss{service:$service.value,env:$env.value}","data_source":"metrics","name":"query1"},{"query":"sum:docker.mem.swap{service:$service.value,env:$env.value}","data_source":"metrics","name":"query2"},{"query":"sum:docker.mem.cache{service:$service.value,env:$env.value}","data_source":"metrics","name":"query3"}],"style":{"palette":"dog_classic"},"display_type":"area"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"}},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":3830279718537334,"definition":{"title":"Heap Usage","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Max","formula":"query1"},{"alias":"Min","formula":"query2"}],"response_format":"timeseries","queries":[{"query":"max:jvm.heap_memory{$env,$service}","data_source":"metrics","name":"query1"},{"query":"min:jvm.heap_memory{$env,$service}","data_source":"metrics","name":"query2"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"Max jvm.heap_memory","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"max:jvm.heap_memory_max{$env,$service}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"thin"},"display_type":"line"},{"formulas":[{"alias":"Avg","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:jvm.heap_memory{$env,$service}","data_source":"metrics","name":"query1"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":3,"height":2}},{"id":7698909718192420,"definition":{"title":"Non-Heap Usage","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"Max","formula":"query1"},{"alias":"Min","formula":"query2"},{"alias":"Avg","formula":"query3"}],"response_format":"timeseries","queries":[{"query":"max:jvm.non_heap_memory{$env,$service}","data_source":"metrics","name":"query1"},{"query":"min:jvm.non_heap_memory{$env,$service}","data_source":"metrics","name":"query2"},{"query":"avg:jvm.non_heap_memory{$env,$service}","data_source":"metrics","name":"query3"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"Avg","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:jvm.non_heap_memory{$env,$service}","data_source":"metrics","name":"query1"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":3,"y":2,"width":3,"height":2}}]},"layout":{"x":0,"y":0,"width":6,"height":5}},{"id":4125207804212222,"definition":{"title":"Topologia","background_color":"vivid_blue","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":7840073012613822,"definition":{"title":"Topologia","title_size":"16","title_align":"left","type":"topology_map","requests":[{"request_type":"topology","query":{"filters":["$env"],"service":"$service","data_source":"service_map"}}]},"layout":{"x":0,"y":0,"width":6,"height":4}}]},"layout":{"x":6,"y":0,"width":6,"height":5}},{"id":1081797190427908,"definition":{"title":"Logs","background_color":"gray","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":1344688463636584,"definition":{"title":"Logs da aplicação","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"$env $service","data_source":"logs_stream","indexes":[]},"columns":[{"field":"status_line","width":"auto"},{"field":"timestamp","width":"auto"},{"field":"host","width":"auto"},{"field":"service","width":"auto"},{"field":"content","width":"auto"}],"response_format":"event_list"}],"type":"list_stream"},"layout":{"x":0,"y":0,"width":8,"height":8}}]},"layout":{"x":0,"y":0,"width":8,"height":9,"is_column_break":true}},{"id":6322574838480394,"definition":{"title":"Erros","background_color":"vivid_pink","show_title":true,"type":"group","layout_type":"ordered","widgets":[{"id":5569177474843546,"definition":{"title":"Top Erros (1 mês) - por resource","title_size":"16","title_align":"left","time":{"live_span":"1mo"},"type":"toplist","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:trace.http.request.errors{$env,$service} by {resource_name}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}],"conditional_formats":[{"comparator":">","value":0,"palette":"white_on_red"}]}],"style":{}},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":2743510163740790,"definition":{"title":"Top Erros (1 mês) - por status code","title_size":"16","title_align":"left","time":{"live_span":"1mo"},"type":"toplist","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:trace.http.request.errors{$env,$service} by {http.status_code}.as_count()","aggregator":"sum"}],"formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}],"conditional_formats":[{"comparator":">","value":0,"palette":"white_on_red"}]}],"style":{}},"layout":{"x":0,"y":3,"width":4,"height":3}}]},"layout":{"x":8,"y":0,"width":4,"height":7}}],"template_variables":[{"name":"env","prefix":"env","available_values":["dev","homolog","prod"],"default":"prod"},{"name":"service","prefix":"service","available_values":[],"default":"academico"}],"layout_type":"ordered","notify_list":[],"reflow_type":"fixed"}