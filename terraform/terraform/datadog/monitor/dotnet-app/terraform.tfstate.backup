{
  "version": 4,
  "terraform_version": "1.6.3",
  "serial": 14,
  "lineage": "3b27a549-4c33-6f24-361f-db88819c774a",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "datadog_monitor",
      "name": "zupper_api_container_availability",
      "provider": "provider[\"registry.terraform.io/datadog/datadog\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "enable_logs_sample": null,
            "enable_samples": null,
            "escalation_message": "",
            "evaluation_delay": 0,
            "force_delete": null,
            "group_retention_duration": "",
            "groupby_simple_monitor": null,
            "id": "1199882",
            "include_tags": true,
            "locked": false,
            "message": "{{#is_alert}}Service zupper-api container não está em execução{{/is_alert}}\n{{#is_alert_recovery}}Service zupper-api container voltou a executar normalmente{{/is_alert_recovery}} @slack-channel",
            "monitor_threshold_windows": [],
            "monitor_thresholds": [
              {
                "critical": "1",
                "critical_recovery": "",
                "ok": "",
                "unknown": "",
                "warning": "",
                "warning_recovery": ""
              }
            ],
            "name": "Service zupper-api Container Disponibilidade",
            "new_group_delay": 0,
            "new_host_delay": 300,
            "no_data_timeframe": 0,
            "notification_preset_name": "",
            "notify_audit": false,
            "notify_by": null,
            "notify_no_data": false,
            "on_missing_data": "",
            "priority": "1",
            "query": "avg(last_1h):docker.containers.running{docker_image:172597598159.dkr.ecr.us-east-1.amazonaws.com/anthropic-stories:latest} by {service} \u003c 1",
            "renotify_interval": 0,
            "renotify_occurrences": 0,
            "renotify_statuses": null,
            "require_full_window": true,
            "restricted_roles": null,
            "scheduling_options": [],
            "tags": [
              "env:prod",
              "service:auth-dotnet",
              "team:sre",
              "terraform:true"
            ],
            "timeout_h": 0,
            "type": "query alert",
            "validate": null,
            "variables": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "datadog_monitor",
      "name": "zupper_api_errors",
      "provider": "provider[\"registry.terraform.io/datadog/datadog\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "enable_logs_sample": null,
            "enable_samples": null,
            "escalation_message": "",
            "evaluation_delay": 0,
            "force_delete": null,
            "group_retention_duration": "",
            "groupby_simple_monitor": null,
            "id": "1199883",
            "include_tags": true,
            "locked": false,
            "message": "{{#is_alert}}Service zupper-api com Alta Taxa de Erros{{/is_alert}}\n{{#is_alert_recovery}}Service zupper-api com Alta Taxa de Erros voltou ao normal{{/is_alert_recovery}} @slack-channel",
            "monitor_threshold_windows": [],
            "monitor_thresholds": [
              {
                "critical": "20",
                "critical_recovery": "14",
                "ok": "",
                "unknown": "",
                "warning": "",
                "warning_recovery": ""
              }
            ],
            "name": "Service zupper-api Alta Taxa de Erros",
            "new_group_delay": 0,
            "new_host_delay": 300,
            "no_data_timeframe": 0,
            "notification_preset_name": "",
            "notify_audit": false,
            "notify_by": null,
            "notify_no_data": false,
            "on_missing_data": "",
            "priority": "1",
            "query": "sum(last_1m):trace.aspnet_core.request.errors{env:prod,service:auth-dotnet}.as_count() / sum:trace.aspnet_core.request.hits{env:prod,service:auth-dotnet}.as_count() * 100 \u003e 20",
            "renotify_interval": 0,
            "renotify_occurrences": 0,
            "renotify_statuses": null,
            "require_full_window": true,
            "restricted_roles": null,
            "scheduling_options": [],
            "tags": [
              "env:prod",
              "service:auth-dotnet",
              "team:sre",
              "terraform:true"
            ],
            "timeout_h": 0,
            "type": "query alert",
            "validate": null,
            "variables": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "datadog_monitor",
      "name": "zupper_api_latency",
      "provider": "provider[\"registry.terraform.io/datadog/datadog\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "enable_logs_sample": null,
            "enable_samples": null,
            "escalation_message": "",
            "evaluation_delay": 0,
            "force_delete": null,
            "group_retention_duration": "",
            "groupby_simple_monitor": null,
            "id": "1199881",
            "include_tags": true,
            "locked": false,
            "message": "{{#is_alert}}Service zupper-api com Alta Latência no endpoint {{resource_name.name}}{{/is_alert}}\n{{#is_alert_recovery}}Service zupper-api Alta Latência voltou ao normal{{/is_alert_recovery}}",
            "monitor_threshold_windows": [],
            "monitor_thresholds": [
              {
                "critical": "2.5",
                "critical_recovery": "2",
                "ok": "",
                "unknown": "",
                "warning": "",
                "warning_recovery": ""
              }
            ],
            "name": "Service zupper-api Alta Latência",
            "new_group_delay": 0,
            "new_host_delay": 300,
            "no_data_timeframe": 0,
            "notification_preset_name": "",
            "notify_audit": false,
            "notify_by": null,
            "notify_no_data": false,
            "on_missing_data": "",
            "priority": "1",
            "query": "percentile(last_10m):p75:trace.aspnet_core.request{env:prod,service:auth-dotnet} \u003e 2.5",
            "renotify_interval": 0,
            "renotify_occurrences": 0,
            "renotify_statuses": null,
            "require_full_window": true,
            "restricted_roles": null,
            "scheduling_options": [],
            "tags": [
              "env:prod",
              "service:auth-dotnet",
              "team:sre",
              "terraform:true"
            ],
            "timeout_h": 0,
            "type": "query alert",
            "validate": null,
            "variables": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": null
}
